window.__require=function t(o,n,e){function i(r,a){if(!n[r]){if(!o[r]){var s=r.split("/");if(s=s[s.length-1],!o[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var p=n[r]={exports:{}};o[r][0].call(p.exports,function(t){return i(o[r][1][t]||t)},p,p.exports,t,o,n,e)}return n[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<e.length;r++)i(e[r]);return i}({AdManager:[function(t,o,n){"use strict";cc._RF.push(o,"f58346cIHdKLoCK9ygifu7+","AdManager"),cc.Class({extends:cc.Component,properties:{androidLink:{default:""},iosLink:{default:""},defaultLink:{default:""}},openAdUrl:function(){window.androidLink=this.androidLink,window.iosLink=this.iosLink,window.defaultLink=this.defaultLink,window.openAdUrl?window.openAdUrl():window.open()}}),cc._RF.pop()},{}],AudioManager:[function(t,o,n){"use strict";cc._RF.push(o,"a102e7l3hJLsJoHe7ZuHHYB","AudioManager");var e=this&&this.__extends||function(){var t=function(o,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])})(o,n)};return function(o,n){function e(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),i=this&&this.__decorate||function(t,o,n,e){var i,c=arguments.length,r=c<3?o:null===e?e=Object.getOwnPropertyDescriptor(o,n):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,o,n,e);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(o,n,r):i(o,n))||r);return c>3&&r&&Object.defineProperty(o,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./Constant"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.background=null,o.girlSwim=null,o}return e(o,t),o.prototype.start=function(){this.onBackground(),this.addEventListener()},o.prototype.addEventListener=function(){cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.BACKGROUND,this.onBackground,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.GIRL_SWIM,this.onGirlSwim,this)},o.prototype.onBackground=function(){cc.audioEngine.play(this.background,!0,.8)},o.prototype.onGirlSwim=function(){cc.audioEngine.play(this.girlSwim,!1,1)},i([s({type:cc.AudioClip})],o.prototype,"background",void 0),i([s({type:cc.AudioClip})],o.prototype,"girlSwim",void 0),o=i([a],o)}(cc.Component);n.default=l,cc._RF.pop()},{"./Constant":"Constant"}],Constant:[function(t,o,n){"use strict";cc._RF.push(o,"f119fyvXR9CX7MqFQob1rkz","Constant"),Object.defineProperty(n,"__esModule",{value:!0}),n.Constant={EVENT:{CALL_WATER_2:"CALL_WATER_2",CALL_START:"CALL_START",CALL_LINE:"CALL_LINE",TOUCH:"TOUCH",SOUND:{BACKGROUND:"BACKGROUND",GIRL_SWIM:"GIRL_SWIM"}},SIDE:{LEFT:1,RIGHT:2,TOP:3,BOTTOM:4}},cc._RF.pop()},{}],Global:[function(t,o,n){"use strict";cc._RF.push(o,"8402b9DWntKD41Cu5Cp5QC3","Global");var e={angle:function(t,o,n,e){var i=e-o,c=n-t,r=Math.atan2(i,c);return r*=180/Math.PI},angle360:function(t,o,n,e){var i=cc.Global.angle(t,o,n,e);return i<0&&(i=360+i),i}};cc.Global=e,cc._RF.pop()},{}],ball:[function(t,o,n){"use strict";cc._RF.push(o,"18f4eQnh3BI073tQP0ERe5m","ball");var e=this&&this.__extends||function(){var t=function(o,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])})(o,n)};return function(o,n){function e(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),i=this&&this.__decorate||function(t,o,n,e){var i,c=arguments.length,r=c<3?o:null===e?e=Object.getOwnPropertyDescriptor(o,n):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,o,n,e);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(o,n,r):i(o,n))||r);return c>3&&r&&Object.defineProperty(o,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,a=(c.property,function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.isStart=!1,o.ballId=null,o.isCollisionBox10=!1,o}return e(o,t),o.prototype.onLoad=function(){this.ballPhysics=this.node.getComponent(cc.RigidBody)},o.prototype.start=function(){},o.prototype.init=function(t,o){this.node.getComponent(cc.RigidBody).gravityScale=o,this.node.getComponent(cc.RigidBody).linearVelocity=t,this.isStart=!0},o.prototype.onBeginContact=function(t,o,n){},o.prototype.update=function(t){this.isStart&&parseInt(""+this.node.position.y)<this.startBallPos.y&&(this.isStart=!1,this.node.position.y=this.startBallPos.y,this.ballPhysics.linearVelocity=cc.v2(0,0),this.ballPhysics.angularVelocity=0,this.ballPhysics.gravityScale=0)},o=i([r],o)}(cc.Component));n.default=a,cc._RF.pop()},{}],box:[function(t,o,n){"use strict";cc._RF.push(o,"8cca28+cctCjLrTNC0hiAPC","box");var e=this&&this.__extends||function(){var t=function(o,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])})(o,n)};return function(o,n){function e(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),i=this&&this.__decorate||function(t,o,n,e){var i,c=arguments.length,r=c<3?o:null===e?e=Object.getOwnPropertyDescriptor(o,n):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,o,n,e);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(o,n,r):i(o,n))||r);return c>3&&r&&Object.defineProperty(o,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./common/Constant"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.label=null,o.number=0,o}return e(o,t),o.prototype.start=function(){},o.prototype.onBeginContact=function(t,o,n){if("ball"===n.node.name){var e=n.node.getComponent("ball").isCollisionBox10;if("box10"==this.node.name){if(e)return;n.node.getComponent("ball").isCollisionBox10=!0}if(this.number--,this.number<=0)this.node.destroy(),"box10"==this.node.name&&cc.Canvas.instance.node.emit(c.Constant.EVENT.CALL_WATER_2);else{this.label.string=String(this.number),this.label.cacheMode=1;var i=n.node.getComponent(cc.RigidBody).linearVelocity,r=1,a=1,s=600,l=600;o.tag==c.Constant.SIDE.LEFT?(r=-1,a=i.y>0?1:-1):o.tag==c.Constant.SIDE.RIGHT?(r=1,a=i.y>0?1:-1):o.tag==c.Constant.SIDE.TOP?(r=i.x>0?1:-1,a=1):o.tag==c.Constant.SIDE.BOTTOM?(r=i.x>0?1:-1,a=-1):100==o.tag&&(r=-1,a=i.y>0?1:-1,s=70,l=600),n.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(s*r,l*a),this.setColor()}}},o.prototype.setColor=function(){var t=this;this.unscheduleAllCallbacks(),this.node.color=cc.Color.MAGENTA,this.scheduleOnce(function(){t.node.color=cc.Color.WHITE,t.scheduleOnce(function(){t.node.color=cc.Color.MAGENTA,t.scheduleOnce(function(){t.node.color=cc.Color.WHITE},.035)},.035)},.035)},i([s(cc.Label)],o.prototype,"label",void 0),i([s],o.prototype,"number",void 0),o=i([a],o)}(cc.Component);n.default=l,cc._RF.pop()},{"./common/Constant":"Constant"}],game:[function(t,o,n){"use strict";cc._RF.push(o,"61d9fyQd+FIFZiRTe24PCek","game");var e=this&&this.__extends||function(){var t=function(o,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])})(o,n)};return function(o,n){function e(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),i=this&&this.__decorate||function(t,o,n,e){var i,c=arguments.length,r=c<3?o:null===e?e=Object.getOwnPropertyDescriptor(o,n):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,o,n,e);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(o,n,r):i(o,n))||r);return c>3&&r&&Object.defineProperty(o,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./common/Constant"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.line=null,o.endGame=null,o.water1Anim=null,o.water2Anim=null,o.point=null,o.ballAmountLabel=null,o.wave=null,o.waterLine=null,o.skeleton=null,o.textGuide=null,o.logo=null,o.download=null,o.shotDelayTime=.15,o.startBallPos=cc.v3(0,-580),o.isCountDownTime=!1,o.isStart=!1,o.isWater1=!1,o.countBall=0,o.strAnimCurrent="",o.ironsource=!0,o}return e(o,t),o.prototype.onLoad=function(){this.physicsManager=cc.director.getPhysicsManager(),this.physicsManager.enabled=!0,cc.macro.CLEANUP_IMAGE_CACHE=!1,cc.dynamicAtlasManager.enabled=!0;var t=cc.director.getCollisionManager();t.enabled=!0,t.enabledDebugDraw=!0,t.enabledDrawBoundingBox=!0,this.ballParentNode=this.node.getChildByName("balls"),this.ballNodes=this.ballParentNode.children,this.initBall(cc.v2(0,0),0),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouch,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouch,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),cc.Canvas.instance.node.on(c.Constant.EVENT.CALL_WATER_2,this.callWater2,this),cc.Canvas.instance.node.on(c.Constant.EVENT.CALL_START,this.callStart,this)},o.prototype.start=function(){var t=this;this.line.active=!0,this.endGame.active=!1,this.setBallAmount(!0,this.ballNodes.length),this.setBallsPos(),this.skeleton.setCompleteListener(function(o,n){"Idle_to_Punch"==(o.animation?o.animation.name:"")&&t.changeAnimation(0,"Punch",!0)})},o.prototype.changeAnimation=function(t,o,n){o!==this.strAnimCurrent&&(this.skeleton.setAnimation(t,o,n),this.strAnimCurrent=o)},o.prototype.setBallAmount=function(t,o){void 0===o&&(o=0),t&&o>0?(this.ballAmountLabel.node.active=!0,this.ballAmountLabel.string="x"+o):this.ballAmountLabel.node.active=!1},o.prototype.callStart=function(t){this.countBall++,this.setBallAmount(!0,this.countBall),t==this.ballNodes.length&&(this.isStart=!1)},o.prototype.callWater1=function(){this.isWater1||(this.isWater1=!0,this.water1Anim.play("water1"))},o.prototype.callWater2=function(){this.water2Anim.play("water2")},o.prototype.setBallsPos=function(){var t=this;this.ballNodes.forEach(function(o){o.position=t.startBallPos})},o.prototype.onTouch=function(t){if(!this.isStart){this.textGuide.active=!1,cc.Canvas.instance.node.emit(c.Constant.EVENT.TOUCH),cc.Canvas.instance.node.emit(c.Constant.EVENT.CALL_LINE),this.line.active=!0,this.touchPos=t.getLocation();var o=this.node.convertToWorldSpaceAR(this.startBallPos),n=cc.Global.angle360(this.touchPos.x,this.touchPos.y,o.x,o.y);n>=190&&n<=350&&(this.line.angle=n)}},o.prototype.initBall=function(t,o){for(var n=0;n<this.ballNodes.length;n++){this.ballNodes[n].getComponent("ball").init(t,o)}},o.prototype.onTouchEnd=function(t){if(!this.isStart&&(this.countBall=0,this.setBallAmount(!1),this.callWater1(),this.line.active=!1,this.isStart=!0,this.touchPos=t.getLocation(),this.shotBalls(),!this.isCountDownTime)){cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.GIRL_SWIM),this.isCountDownTime=!0;var o=this.water1Anim.defaultClip.duration;this.changeAnimation(0,"Idle_to_Punch",!1),this.scheduleOnce(function(){this.unscheduleAllCallbacks(),this.logo.active=!1,this.download.active=!1,this.endGame.active=!0,this.ironsource&&window.NUC.trigger.endGame("false"),this.waterLine.active=!1,this.isStart&&this.ballParentNode.removeAllChildren()}.bind(this),o),this.wave.runAction(cc.moveBy(o,cc.v2(0,250))),this.scheduleOnce(function(){this.skeleton.node.x+=30,this.changeAnimation(0,"Swim",!0),this.skeleton.node.runAction(cc.moveBy(1.5,cc.v2(0,70)))}.bind(this),6)}},o.prototype.shotBalls=function(){for(var t=function(t){o.scheduleOnce(function(){var o=this.ballNodes[t].parent.convertToWorldSpaceAR(this.ballNodes[t].position),n=this.point.convertToWorldSpaceAR(this.point.position),e=n.x<o.x?-1:1,i=cc.v2(3e3*Math.abs(o.x-n.x)*e,3e3*Math.abs(o.y-n.y)),c=this.ballNodes[t].getComponent("ball");c.ballId=t+1,c.init(i,1)}.bind(o),t*o.shotDelayTime)},o=this,n=0;n<this.ballNodes.length;n++)t(n)},i([s(cc.Node)],o.prototype,"line",void 0),i([s(cc.Node)],o.prototype,"endGame",void 0),i([s(cc.Animation)],o.prototype,"water1Anim",void 0),i([s(cc.Animation)],o.prototype,"water2Anim",void 0),i([s(cc.Node)],o.prototype,"point",void 0),i([s(cc.Label)],o.prototype,"ballAmountLabel",void 0),i([s(cc.Node)],o.prototype,"wave",void 0),i([s(cc.Node)],o.prototype,"waterLine",void 0),i([s(sp.Skeleton)],o.prototype,"skeleton",void 0),i([s(cc.Node)],o.prototype,"textGuide",void 0),i([s(cc.Node)],o.prototype,"logo",void 0),i([s(cc.Node)],o.prototype,"download",void 0),o=i([a],o)}(cc.Component);n.default=l,cc._RF.pop()},{"./common/Constant":"Constant"}],line:[function(t,o,n){"use strict";cc._RF.push(o,"f5dd6nfCk1Ak5qQxmsIYbWw","line");var e=this&&this.__extends||function(){var t=function(o,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])})(o,n)};return function(o,n){function e(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),i=this&&this.__decorate||function(t,o,n,e){var i,c=arguments.length,r=c<3?o:null===e?e=Object.getOwnPropertyDescriptor(o,n):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,o,n,e);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(o,n,r):i(o,n))||r);return c>3&&r&&Object.defineProperty(o,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./common/Constant"),r=cc._decorator,a=r.ccclass,s=r.property,l=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.bg=null,o.point=null,o.origin=null,o.anim=null,o.hand=null,o.isGuide=!0,o}return e(o,t),o.prototype.onLoad=function(){this.physicsManager=cc.director.getPhysicsManager(),this.anim.play(this.anim.defaultClip.name)},o.prototype.start=function(){cc.Canvas.instance.node.on(c.Constant.EVENT.CALL_LINE,this.onCallLine,this),cc.Canvas.instance.node.on(c.Constant.EVENT.TOUCH,this.onTouch,this)},o.prototype.onTouch=function(){this.isGuide&&(this.isGuide=!1,this.node.active=!1,this.hand.active=!1,this.anim.stop(this.anim.defaultClip.name),this.setPoint())},o.prototype.onCallLine=function(){this.setPoint()},o.prototype.setPoint=function(){var t=this.origin.convertToWorldSpaceAR(cc.v2()),o=this.origin.convertToWorldSpaceAR(cc.v2(-1e3)),n=this.physicsManager.rayCast(t,o,cc.RayCastType.Closest);if(n.length>0){var e=this.point.parent.convertToNodeSpaceAR(n[0].point);e=cc.v3(e.x,e.y),this.point.setPosition(e),this.setWidthLine(e)}},o.prototype.setWidthLine=function(t){var o=(this.origin.position.subtract(t).mag()-Math.abs(this.bg.position.x))/this.bg.width;this.bg.getComponent(cc.Sprite).fillRange=o},o.prototype.update=function(t){this.isGuide&&this.setPoint()},i([s(cc.Node)],o.prototype,"bg",void 0),i([s(cc.Node)],o.prototype,"point",void 0),i([s(cc.Node)],o.prototype,"origin",void 0),i([s(cc.Animation)],o.prototype,"anim",void 0),i([s(cc.Node)],o.prototype,"hand",void 0),o=i([a],o)}(cc.Component);n.default=l,cc._RF.pop()},{"./common/Constant":"Constant"}],testBall:[function(t,o,n){"use strict";cc._RF.push(o,"8998e9wYQ5Ns57wPTklfu8Z","testBall");var e=this&&this.__extends||function(){var t=function(o,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])})(o,n)};return function(o,n){function e(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),i=this&&this.__decorate||function(t,o,n,e){var i,c=arguments.length,r=c<3?o:null===e?e=Object.getOwnPropertyDescriptor(o,n):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,o,n,e);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(o,n,r):i(o,n))||r);return c>3&&r&&Object.defineProperty(o,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,a=c.property,s=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.isStart=!1,o.ballId=null,o.isCollisionBox10=!1,o.point=null,o}return e(o,t),o.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,this.ballPhysics=this.node.getComponent(cc.RigidBody)},o.prototype.start=function(){this.shotBullet()},o.prototype.shotBullet=function(){var t=this.point.convertToWorldSpaceAR(this.point.position),o=this.node.parent.convertToWorldSpaceAR(this.node.position),n=t.x<o.x?-1:1,e=cc.v2(3e3*Math.abs(o.x-t.x)*n,3e3*Math.abs(o.y-t.y));this.init(e,1)},o.prototype.init=function(t,o){this.node.getComponent(cc.RigidBody).gravityScale=o,this.node.getComponent(cc.RigidBody).linearVelocity=t,this.isStart=!0},o.prototype.onBeginContact=function(t,o,n){},o.prototype.update=function(t){},i([a(cc.Node)],o.prototype,"point",void 0),o=i([r],o)}(cc.Component);n.default=s,cc._RF.pop()},{}]},{},["ball","box","AdManager","AudioManager","Constant","Global","game","line","testBall"]);